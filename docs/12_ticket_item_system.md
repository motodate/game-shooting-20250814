# チケット#12: アイテムシステム実装

## 📋 概要
ライフ回復アイテムのシステムを実装する。
敵撃破時に5%の確率でドロップし、取得するとライフが回復する仕組みを構築する。

## 🎯 完了条件
- 敵撃破時に5%の確率でアイテムがドロップする
- アイテムが下方向にゆっくり落下する
- プレイヤーが触れると自動取得される
- ライフが1回復する（最大値3を超えない）
- アイテム取得時にエフェクトが表示される

## 📦 依存関係
- チケット#02（プレイヤーシステム）が完了していること
- チケット#06（当たり判定システム）が完了していること

## ✅ コミット粒度のToDo

### 1. Itemクラスの基本実装
- [ ] `js/item.js` を作成
- [ ] Item 基底クラスの定義
- [ ] 位置と移動速度の管理
- [ ] アイテムタイプの定義（LIFE_RECOVERY）

**コミットメッセージ例**: `feat: Itemクラスの基本構造を実装`

### 2. ライフ回復アイテムの実装
- [ ] LifeRecoveryItem クラスの定義
- [ ] 回復量の設定（1ライフ）
- [ ] アイテムサイズの定義
- [ ] 取得判定領域の設定

**コミットメッセージ例**: `feat: ライフ回復アイテムクラスを実装`

### 3. アイテムの描画処理
- [ ] ハート型のデザイン実装
- [ ] 緑系ネオンカラーで発光
- [ ] パルスアニメーション（拡大縮小）
- [ ] 落下中の軌跡エフェクト

**コミットメッセージ例**: `feat: アイテムの描画とアニメーションを実装`

### 4. ItemManagerクラスの実装
- [ ] `js/itemManager.js` を作成
- [ ] アイテムのオブジェクトプール管理
- [ ] アクティブなアイテムのリスト管理
- [ ] アイテムの生成と削除

**コミットメッセージ例**: `feat: ItemManagerによるアイテム管理システムを実装`

### 5. ドロップシステムの実装
- [ ] 敵撃破時の5%判定
- [ ] ドロップ位置の設定（敵の位置）
- [ ] ランダム判定の実装
- [ ] ドロップ率の調整機能

**コミットメッセージ例**: `feat: 5%確率のアイテムドロップシステムを実装`

### 6. アイテムの移動と取得
- [ ] 下方向への落下処理（ゆっくり）
- [ ] プレイヤーとの接触判定
- [ ] 自動取得処理
- [ ] 画面外での自動削除

**コミットメッセージ例**: `feat: アイテムの移動と取得処理を実装`

### 7. ライフ回復処理
- [ ] プレイヤーライフの回復
- [ ] 最大値チェック（3を超えない）
- [ ] 回復エフェクトの表示
- [ ] UI への反映

**コミットメッセージ例**: `feat: ライフ回復処理とエフェクトを実装`

### 8. システム統合
- [ ] EnemyManager との連携
- [ ] CollisionManager との連携
- [ ] game.js への統合
- [ ] デバッグ機能（ドロップ率調整）

**コミットメッセージ例**: `feat: アイテムシステムをゲームに統合`

## 🧪 テスト観点
- [ ] 敵撃破時に約5%の確率でアイテムが出現すること
- [ ] アイテムがゆっくり落下すること
- [ ] プレイヤーが触れると取得されること
- [ ] ライフが1回復すること
- [ ] ライフ3の時は回復しないこと
- [ ] 画面外のアイテムが削除されること

## 📝 レビューポイント
- ドロップ率5%が適切なバランスか
- アイテムの視認性が良いか
- 取得時のフィードバックが分かりやすいか
- メモリ管理が適切か

## 🚀 次のチケットへの準備
このチケットが完了すると、UI画面（チケット#13）でゲーム全体の流れを完成させることができます。
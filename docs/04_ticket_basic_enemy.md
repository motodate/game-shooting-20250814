# チケット#04: 基本敵キャラクター実装

## 📋 概要
小型機の敵キャラクターを実装する。
画面上部からの出現、基本的な移動パターン、敵管理システムの基礎を構築する。

## 🎯 完了条件
- 小型機が画面上部から出現する
- 敵が下方向に移動する
- 複数の敵を同時に管理できる
- 画面外に出た敵が自動削除される
- 敵の出現タイミングが制御できる

## 📦 依存関係
- チケット#01（ゲーム基盤構築）が完了していること
- チケット#02（プレイヤーシステム）が完了していること

## ✅ コミット粒度のToDo

### 1. Enemyクラスの基本実装
- [ ] `js/enemy.js` を作成
- [ ] Enemy 基底クラスの定義
- [ ] 位置、速度、HP の管理
- [ ] 敵タイプの定義（SMALL, MEDIUM, LARGE）
- [ ] 状態管理（active, destroyed）

**コミットメッセージ例**: `feat: Enemy基底クラスを実装`

### 2. SmallEnemyクラスの実装
- [ ] SmallEnemy クラスの定義（Enemy を継承）
- [ ] HP = 1 の設定
- [ ] 高速移動の設定
- [ ] サイズと当たり判定領域の定義

**コミットメッセージ例**: `feat: 小型機敵キャラクターを実装`

### 3. 敵の描画処理
- [ ] サイバーパンク風の敵デザイン（赤系ネオン）
- [ ] 四角形ベースの機体形状
- [ ] 発光エフェクトの追加
- [ ] 敵タイプによる色分け準備

**コミットメッセージ例**: `feat: 敵キャラクターの描画処理を実装`

### 4. EnemyManagerクラスの実装
- [ ] `js/enemyManager.js` を作成
- [ ] 敵のオブジェクトプール管理
- [ ] 敵の生成と削除の管理
- [ ] アクティブな敵のリスト管理

**コミットメッセージ例**: `feat: EnemyManagerによる敵管理システムを実装`

### 5. 敵の出現システム
- [ ] 出現パターンの定義（ランダム位置）
- [ ] 出現間隔の管理
- [ ] 画面上部からの出現処理
- [ ] 出現数の制御

**コミットメッセージ例**: `feat: 敵の出現システムを実装`

### 6. 敵の移動処理
- [ ] 下方向への直線移動
- [ ] 移動速度の管理
- [ ] 画面外判定と自動削除
- [ ] フレーム毎の位置更新

**コミットメッセージ例**: `feat: 敵の移動と画面外削除を実装`

### 7. 敵のHP管理
- [ ] ダメージ処理の基礎実装
- [ ] HP が 0 になった時の破壊処理
- [ ] 破壊エフェクトの準備
- [ ] スコア加算の準備（実装は後のチケット）

**コミットメッセージ例**: `feat: 敵のHP管理システムを実装`

### 8. ゲームへの統合
- [ ] game.js への統合
- [ ] 敵の更新・描画処理の呼び出し
- [ ] デバッグ情報の表示（アクティブ敵数など）
- [ ] 出現頻度の調整

**コミットメッセージ例**: `feat: 敵システムをゲームに統合`

## 🧪 テスト観点
- [ ] 敵が画面上部から定期的に出現すること
- [ ] 敵が下方向に移動すること
- [ ] 複数の敵が同時に表示されること
- [ ] 画面外に出た敵が削除されること
- [ ] 敵の出現位置がランダムであること
- [ ] パフォーマンスが安定していること

## 📝 レビューポイント
- オブジェクトプールが効率的に実装されているか
- 敵の出現パターンが適切か
- 拡張性（中型機、大型機の追加）を考慮した設計か
- メモリ管理が適切か

## 🚀 次のチケットへの準備
このチケットが完了すると、中型機・大型機の実装（チケット#05）に着手できる状態になります。
敵とプレイヤー弾の当たり判定は、チケット#06で実装予定。
# チケット#02: プレイヤーシステム実装

## 📋 概要
プレイヤー機体の実装、移動システム（タッチ追従・キーボード操作）、当たり判定の基礎を構築する。
サイバーパンクな三角形デザインの機体を実装し、スムーズな操作性を実現する。

## 🎯 完了条件
- プレイヤー機体が画面に表示される
- タッチ/マウスで機体が追従移動する
- キーボード（WASD/矢印キー）で機体が移動する
- 当たり判定の領域が視覚的に確認できる（デバッグモード）
- 画面外に機体が出ないよう制限される

## 📦 依存関係
- チケット#01（ゲーム基盤構築）が完了していること

## ✅ コミット粒度のToDo

### 1. Playerクラスの基本実装
- [ ] `js/player.js` を作成
- [ ] Player クラスの定義
- [ ] 位置（x, y）とサイズの管理
- [ ] 初期位置の設定（画面下部中央）
- [ ] プレイヤー状態の管理（alive, invincible等）

**コミットメッセージ例**: `feat: Playerクラスの基本構造を実装`

### 2. プレイヤー機体の描画
- [ ] サイバーパンクな三角形デザインの実装
- [ ] グラデーション効果の追加（ネオンカラー）
- [ ] 機体の向き（上向き）の設定
- [ ] 発光エフェクトの追加（shadowBlur使用）

**コミットメッセージ例**: `feat: サイバーパンク風プレイヤー機体の描画を実装`

### 3. タッチ/マウス追従移動
- [ ] タッチ座標への追従処理
- [ ] マウス座標への追従処理
- [ ] 追従速度の調整（即座ではなくスムーズな移動）
- [ ] タッチ中のみ移動するフラグ管理

**コミットメッセージ例**: `feat: タッチ/マウス追従移動システムを実装`

### 4. キーボード操作の実装
- [ ] WASD キーでの移動処理
- [ ] 矢印キーでの移動処理
- [ ] 移動速度の定義（ピクセル/フレーム）
- [ ] 斜め移動時の速度正規化

**コミットメッセージ例**: `feat: キーボード操作による移動を実装`

### 5. 移動範囲の制限
- [ ] 画面境界の検出
- [ ] 画面外への移動制限
- [ ] 画面端での押し戻し処理
- [ ] 移動可能エリアの定義

**コミットメッセージ例**: `feat: プレイヤー移動範囲の制限を追加`

### 6. 当たり判定の基礎実装
- [ ] 当たり判定用の円形領域の定義
- [ ] 判定領域のサイズ設定（機体より小さく）
- [ ] デバッグモードでの判定領域表示
- [ ] 判定領域の座標取得メソッド

**コミットメッセージ例**: `feat: プレイヤー当たり判定の基礎を実装`

### 7. ライフシステムの基礎
- [ ] ライフ数の管理（初期値3）
- [ ] ダメージ処理の基礎
- [ ] 無敵時間の実装（ダメージ後の点滅）
- [ ] ライフ0時の処理（ゲームオーバーフラグ）

**コミットメッセージ例**: `feat: プレイヤーライフシステムを実装`

### 8. ゲームへの統合
- [ ] `game.js` にプレイヤーの統合
- [ ] 更新処理と描画処理の呼び出し
- [ ] 入力システムとの連携
- [ ] UIへのライフ情報の連携

**コミットメッセージ例**: `feat: プレイヤーシステムをゲームに統合`

## 🧪 テスト観点
- [ ] プレイヤー機体が画面中央下部に表示されること
- [ ] タッチした位置に機体がスムーズに移動すること
- [ ] キーボードで上下左右に移動できること
- [ ] 画面外に機体が出ないこと
- [ ] デバッグモードで当たり判定領域が表示されること
- [ ] ダメージを受けると点滅すること
- [ ] スマートフォンとPCの両方で操作できること

## 📝 レビューポイント
- 移動がスムーズで違和感がないか
- 当たり判定のサイズが適切か
- コードの可読性と拡張性
- パフォーマンスに問題がないか

## 🚀 次のチケットへの準備
このチケットが完了すると、ショットシステムの実装（チケット#03）に着手できる状態になります。